<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Eynus."><link rel="alternative" href="/atom.xml" title="I am Eynus." type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>表严肃-JQuery - I am Eynus.</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">I am Eynus.</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2019-03-02T12:15:47.062Z">March 2, 2019</time><h1 class="post__title"><a href="/2019/03/02/表严肃-JQuery/">表严肃-JQuery</a></h1><div class="post__main echo"><h2 id="1-JQuery"><a href="#1-JQuery" class="headerlink" title="1.JQuery"></a>1.JQuery</h2><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ol>
<li><p>write less, do more! 操作DOM更简单。</p>
</li>
<li><p>地址：jquery.com</p>
</li>
<li><p>稳定，可靠。</p>
</li>
<li><p>JQuery与JS:一个战壕里的，不是对立。</p>
</li>
</ol>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>-从官网拷贝一个jquery库到本地或者直接粘贴地址</p>
<h2 id="2-选择器"><a href="#2-选择器" class="headerlink" title="2.选择器"></a>2.选择器</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"a"</span>).style.background = <span class="string">'blue'</span>;<span class="comment">//原生JS</span></span><br><span class="line"></span><br><span class="line">jQuery(<span class="string">'#a'</span>).css(<span class="string">'background'</span>,<span class="string">'blue'</span>);<span class="comment">//JQuery  可以简写为$('#a')</span></span><br></pre></td></tr></table></figure>
<h3 id="2-1总结：css里面怎么选，JQuery就怎么选"><a href="#2-1总结：css里面怎么选，JQuery就怎么选" class="headerlink" title="2.1总结：css里面怎么选，JQuery就怎么选"></a>2.1总结：css里面怎么选，JQuery就怎么选</h3><p><strong><code>$(&#39;元素选择器&#39;)</code>         常用</strong></p>
<p><strong><code>$(&#39;#ID&#39;)</code>                常用</strong></p>
<p><strong><code>$(&#39;.className&#39;)</code>        常用</strong></p>
<p><strong><code>$(&#39;组合选择器&#39;)</code></strong></p>
<p><strong><code>$(&#39;元素选择器[属性名=属性值]&#39;)</code></strong></p>
<h2 id="3-过滤器"><a href="#3-过滤器" class="headerlink" title="3.过滤器"></a>3.过滤器</h2><h6 id="find-从上往下找子元素"><a href="#find-从上往下找子元素" class="headerlink" title="find()    从上往下找子元素"></a><code>find()</code>    从上往下找子元素</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.grandpa'</span>).find(<span class="string">'.child'</span>).css(<span class="string">'border'</span>,<span class="string">'2px solid #999'</span>);<span class="comment">//grandpa找child</span></span><br></pre></td></tr></table></figure>
<h6 id="parent-parents-从下往上找父元素"><a href="#parent-parents-从下往上找父元素" class="headerlink" title="parent(),parents()    从下往上找父元素"></a><code>parent()</code>,<code>parents()</code>    从下往上找父元素</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#child'</span>).parent().css(<span class="string">'border'</span>,<span class="string">'2px solid #666'</span>);<span class="comment">//从下往上找父元素</span></span><br><span class="line">$(<span class="string">'#child'</span>).parents(<span class="string">'.grandpa'</span>).css(<span class="string">'border'</span>,<span class="string">'2px solid #666'</span>);<span class="comment">//往上找直到找到</span></span><br></pre></td></tr></table></figure>
<h6 id="filter-过滤"><a href="#filter-过滤" class="headerlink" title="filter()    过滤"></a><code>filter()</code>    过滤</h6><p><img src="C:\Users\Administrator\Desktop\web学习日记\images\02275.png" alt></p>
<h2 id="4-操作样式"><a href="#4-操作样式" class="headerlink" title="4.操作样式"></a>4.操作样式</h2><h4 id="1-添加多条css样式"><a href="#1-添加多条css样式" class="headerlink" title="1. 添加多条css样式"></a>1. 添加多条css样式</h4><h6 id="css-css-或者-写到对象里面传入"><a href="#css-css-或者-写到对象里面传入" class="headerlink" title=".css() .css()...  或者 写到对象里面传入"></a><code>.css()</code> <code>.css()...</code>  或者 写到对象里面传入</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.后面依次追加css()</span></span><br><span class="line">$(<span class="string">'.a'</span>).css(<span class="string">'color'</span>,<span class="string">'red'</span>).css(<span class="string">'background-color'</span>,<span class="string">'black'</span>).css(<span class="string">'border'</span>,<span class="string">'15px solid gray'</span>);</span><br><span class="line"><span class="comment">//2.写到对象里面</span></span><br><span class="line">$(<span class="string">'.a'</span>).css(&#123;</span><br><span class="line">    color:<span class="string">'red'</span>,</span><br><span class="line">    backgroundColor:<span class="string">'black'</span>,<span class="comment">//写到对象时，属性不能有'-'，应写成驼峰式</span></span><br><span class="line">    border:<span class="string">'15px solid gray'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="2-写到样式表里，直接用JQuery更改类名"><a href="#2-写到样式表里，直接用JQuery更改类名" class="headerlink" title="2. 写到样式表里，直接用JQuery更改类名"></a>2. 写到样式表里，直接用JQuery更改类名</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.addClass(<span class="string">'类名'</span>)</span><br><span class="line"></span><br><span class="line">.removeClass(<span class="string">'类名'</span>)</span><br><span class="line"></span><br><span class="line">.hasClass()	<span class="comment">//检测是否有该类名</span></span><br></pre></td></tr></table></figure>
<h4 id="显示-隐藏某个元素"><a href="#显示-隐藏某个元素" class="headerlink" title="显示/隐藏某个元素"></a>显示/隐藏某个元素</h4><p><em>除了用display:none方法还有以下方法</em></p>
<h6 id="quot-quot-hide-直接隐藏"><a href="#quot-quot-hide-直接隐藏" class="headerlink" title="$(&quot;&quot;).hide()        直接隐藏"></a><code>$(&quot;&quot;).hide()</code>        直接隐藏</h6><h6 id="quot-quot-show-直接显示"><a href="#quot-quot-show-直接显示" class="headerlink" title="$(&quot;&quot;).show()        直接显示"></a><code>$(&quot;&quot;).show()</code>        直接显示</h6><h6 id="quot-quot-fadeOut-淡入，可传参time-单位为ms"><a href="#quot-quot-fadeOut-淡入，可传参time-单位为ms" class="headerlink" title="$(&quot;&quot;).fadeOut()    淡入，可传参time(单位为ms)"></a><code>$(&quot;&quot;).fadeOut()</code>    淡入，可传参time(单位为ms)</h6><h6 id="quot-quot-fadeIn-淡出"><a href="#quot-quot-fadeIn-淡出" class="headerlink" title="$(&quot;&quot;).fadeIn()    淡出"></a><code>$(&quot;&quot;).fadeIn()</code>    淡出</h6><h6 id="quot-quot-slideUp-从下往上消失-可传参time-单位ms"><a href="#quot-quot-slideUp-从下往上消失-可传参time-单位ms" class="headerlink" title="$(&quot;&quot;).slideUp()    从下往上消失,可传参time,单位ms"></a><code>$(&quot;&quot;).slideUp()</code>    从下往上消失,可传参time,单位ms</h6><h6 id="quot-quot-slideDown-从上往下出现"><a href="#quot-quot-slideDown-从上往下出现" class="headerlink" title="$(&quot;&quot;).slideDown()    从上往下出现"></a><code>$(&quot;&quot;).slideDown()</code>    从上往下出现</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> boardSlideDown = $(<span class="string">"#slideDown"</span>);</span><br><span class="line">boardSlideDown.hide();</span><br><span class="line">boardSlideDown.slideDown(<span class="number">1000</span>);<span class="comment">//从上到下出现</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boardSlideUp = $(<span class="string">"#slideUp"</span>);</span><br><span class="line">boardSlideUp.slideUp(<span class="number">1000</span>);<span class="comment">//从下到上消失</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boardFadeIn = $(<span class="string">"#fadeIn"</span>);</span><br><span class="line">boardFadeIn.hide();<span class="comment">//先隐藏</span></span><br><span class="line">boardFadeIn.fadeIn(<span class="number">1000</span>);<span class="comment">//淡入</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> boardFadeOut = $(<span class="string">"#fadeOut"</span>);</span><br><span class="line">boardFadeOut.fadeOut(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h2 id="5-操作DOM"><a href="#5-操作DOM" class="headerlink" title="5.操作DOM"></a>5.操作DOM</h2><h6 id="quot-quot-text-取值"><a href="#quot-quot-text-取值" class="headerlink" title="$(&quot;&quot;).text();            取值"></a><code>$(&quot;&quot;).text();</code>            取值</h6><h6 id="quot-quot-text-‘LaLaLa’-存值-直接替换"><a href="#quot-quot-text-‘LaLaLa’-存值-直接替换" class="headerlink" title="$(&quot;&quot;).text(‘LaLaLa’);    存值-直接替换"></a><code>$(&quot;&quot;).text(‘LaLaLa’);</code>    存值-直接替换</h6><p><em>区别：一个是文字，一个是html</em></p>
<h6 id="quot-quot-html-取值"><a href="#quot-quot-html-取值" class="headerlink" title="$(&quot;&quot;).html();            取值"></a><code>$(&quot;&quot;).html();</code>            取值</h6><h6 id="quot-quot-html-‘LaLaLa’-存值-直接替换"><a href="#quot-quot-html-‘LaLaLa’-存值-直接替换" class="headerlink" title="$(&quot;&quot;).html(‘LaLaLa’);    存值-直接替换"></a><code>$(&quot;&quot;).html(‘LaLaLa’);</code>    存值-直接替换</h6><h6 id="quot-quot-append-39-HA-39-存值-追加"><a href="#quot-quot-append-39-HA-39-存值-追加" class="headerlink" title="$(&quot;&quot;).append(&#39;HA&#39;)        存值-追加"></a><code>$(&quot;&quot;).append(&#39;HA&#39;)</code>        存值-追加</h6><h6 id="quot-quot-prepend-39-1-39-存值-加在前面"><a href="#quot-quot-prepend-39-1-39-存值-加在前面" class="headerlink" title="$(&quot;&quot;).prepend(&#39;1&#39;)        存值-加在前面"></a><code>$(&quot;&quot;).prepend(&#39;1&#39;)</code>        存值-加在前面</h6><h6 id="quot-quot-remove-移除元素"><a href="#quot-quot-remove-移除元素" class="headerlink" title="$(&quot;&quot;).remove()            移除元素"></a><code>$(&quot;&quot;).remove()</code>            移除元素</h6><h2 id="6-事件"><a href="#6-事件" class="headerlink" title="6.事件"></a>6.事件</h2><h6 id="quot-quot-on-39-click-39-function"><a href="#quot-quot-on-39-click-39-function" class="headerlink" title="$(&quot;&quot;).on(&#39;click&#39;,function(){})"></a><code>$(&quot;&quot;).on(&#39;click&#39;,function(){})</code></h6><p><strong>事件的快捷方式</strong>：<code>$(&quot;&quot;).click(function(){})</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 事件</span></span><br><span class="line"><span class="keyword">var</span> btn = $(<span class="string">".btn"</span>);</span><br><span class="line"><span class="keyword">var</span> content = $(<span class="string">".wrapper"</span>);</span><br><span class="line">btn.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(content.is(<span class="string">':visible'</span>))&#123;	<span class="comment">//妙哉！.is(':visible')可见</span></span><br><span class="line">        content.hide();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        content.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>事件类型一览表：<a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/Events</a></p>
<h2 id="7-操作元素属性"><a href="#7-操作元素属性" class="headerlink" title="7.操作元素属性"></a>7.操作元素属性</h2><h6 id="quot-quot-attr-39-属性名-39-39-属性值-39-存值-attribute-显性属性-表哥起的名"><a href="#quot-quot-attr-39-属性名-39-39-属性值-39-存值-attribute-显性属性-表哥起的名" class="headerlink" title="$(&quot;&quot;).attr(&#39;属性名&#39;,&#39;属性值&#39;)    //存值  attribute:显性属性(表哥起的名==)"></a><code>$(&quot;&quot;).attr(&#39;属性名&#39;,&#39;属性值&#39;)</code>    //存值  <strong>attribute:显性属性(表哥起的名==)</strong></h6><h6 id="quot-quot-attr-39-属性名-39-取值"><a href="#quot-quot-attr-39-属性名-39-取值" class="headerlink" title="$(&quot;&quot;).attr(&#39;属性名&#39;)            //取值"></a><code>$(&quot;&quot;).attr(&#39;属性名&#39;)</code>            //取值</h6><h6 id="quot-quot-removeAttr-39-属性名-39-删除属性"><a href="#quot-quot-removeAttr-39-属性名-39-删除属性" class="headerlink" title="$(&quot;&quot;).removeAttr(&#39;属性名&#39;)        //删除属性"></a><code>$(&quot;&quot;).removeAttr(&#39;属性名&#39;)</code>        //删除属性</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 以下元素内的属性class asdf id就是显性属性 =&gt;attr --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">asdf</span>=<span class="string">"1234"</span> <span class="attr">id</span>=<span class="string">"button"</span>&gt;</span>显示/隐藏广告牌<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h6 id="quot-quot-prop-39-属性名-39-39-属性值-39-存值-property-隐性属性-表哥起的名"><a href="#quot-quot-prop-39-属性名-39-39-属性值-39-存值-property-隐性属性-表哥起的名" class="headerlink" title="$(&quot;&quot;).prop(&#39;属性名&#39;,&#39;属性值&#39;)    //存值  property:隐性属性(表哥起的名==)"></a><code>$(&quot;&quot;).prop(&#39;属性名&#39;,&#39;属性值&#39;)</code>    //存值  property:隐性属性(表哥起的名==)</h6><h6 id="quot-quot-prop-39-属性名-39-取值"><a href="#quot-quot-prop-39-属性名-39-取值" class="headerlink" title="$(&quot;&quot;).prop(&#39;属性名&#39;)            //取值"></a><code>$(&quot;&quot;).prop(&#39;属性名&#39;)</code>            //取值</h6><h6 id="quot-quot-removeProp-39-属性名-39-删除属性"><a href="#quot-quot-removeProp-39-属性名-39-删除属性" class="headerlink" title="$(&quot;&quot;).removeProp(&#39;属性名&#39;)        //删除属性"></a><code>$(&quot;&quot;).removeProp(&#39;属性名&#39;)</code>        //删除属性</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.dir(<span class="built_in">document</span>.getElementsByClassName(<span class="string">'btn'</span>)[<span class="number">0</span>])</span><br><span class="line"><span class="comment">//控制台输出的btn的一系列内置属性就是隐性属性property</span></span><br><span class="line"><span class="comment">//(巨多，如:accessKey,childNodes,children,className,dir......)</span></span><br></pre></td></tr></table></figure>
<h2 id="8-表单及输入"><a href="#8-表单及输入" class="headerlink" title="8.表单及输入"></a>8.表单及输入</h2><p>input用val()来获取，不能用html(),text()</p>
<h6 id="quot-quot-val-获取输入框里的值"><a href="#quot-quot-val-获取输入框里的值" class="headerlink" title="$(&quot;&quot;).val()                获取输入框里的值"></a><code>$(&quot;&quot;).val()</code>                获取输入框里的值</h6><h6 id="quot-quot-select-触发：选中输入框"><a href="#quot-quot-select-触发：选中输入框" class="headerlink" title="$(&quot;&quot;).select()            触发：选中输入框"></a><code>$(&quot;&quot;).select()</code>            触发：选中输入框</h6><h6 id="quot-quot-focus-触发：鼠标选中输入框"><a href="#quot-quot-focus-触发：鼠标选中输入框" class="headerlink" title="$(&quot;&quot;).focus()            触发：鼠标选中输入框"></a><code>$(&quot;&quot;).focus()</code>            触发：鼠标选中输入框</h6><h6 id="quot-quot-blur-触发：失去焦点"><a href="#quot-quot-blur-触发：失去焦点" class="headerlink" title="$(&quot;&quot;).blur()                触发：失去焦点"></a><code>$(&quot;&quot;).blur()</code>                触发：失去焦点</h6><h6 id="quot-quot-focus-function-focus成为监听事件"><a href="#quot-quot-focus-function-focus成为监听事件" class="headerlink" title="$(&quot;&quot;).focus(function(){...})        focus成为监听事件"></a><code>$(&quot;&quot;).focus(function(){...})</code>        focus成为监听事件</h6><h6 id="quot-quot-blur-function-blur成为监听事件"><a href="#quot-quot-blur-function-blur成为监听事件" class="headerlink" title="$(&quot;&quot;).blur(function(){...})        blur成为监听事件"></a><code>$(&quot;&quot;).blur(function(){...})</code>        blur成为监听事件</h6><h6 id="quot-quot-select-function-作为监听：选中一个字符即可触发"><a href="#quot-quot-select-function-作为监听：选中一个字符即可触发" class="headerlink" title="$(&quot;&quot;).select(function(){...})    作为监听：选中一个字符即可触发"></a><code>$(&quot;&quot;).select(function(){...})</code>    作为监听：选中一个字符即可触发</h6><h6 id="quot-quot-submit-触发：直接提交表单"><a href="#quot-quot-submit-触发：直接提交表单" class="headerlink" title="$(&quot;&quot;).submit()            触发：直接提交表单"></a><code>$(&quot;&quot;).submit()</code>            触发：直接提交表单</h6><h2 id="9-Ajax-load方法"><a href="#9-Ajax-load方法" class="headerlink" title="9.Ajax-load方法"></a>9.Ajax-load方法</h2><p>不用整页刷新或者到新的页面才能获取数据 <strong>Ajax-指哪打哪儿</strong></p>
<p><strong>Ajax是浏览器和服务器异步的通信方式</strong></p>
<h3 id="1-前置工作"><a href="#1-前置工作" class="headerlink" title="1.前置工作"></a><strong>1.前置工作</strong></h3><p>前提：在自己电脑上虚拟一个服务器 node.js-&gt; http-service</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install http-server -g</span><br></pre></td></tr></table></figure>
<p>最后: <a href="http://127.0.0.1:8080" target="_blank" rel="noopener">http://127.0.0.1:8080</a>  默认打开index.html</p>
<h3 id="2-为什么要有这么多前置工作"><a href="#2-为什么要有这么多前置工作" class="headerlink" title="2.为什么要有这么多前置工作"></a><strong>2.为什么要有这么多前置工作</strong></h3><p>浏览器有一个跨域请求的安全限制(一个网站跳到另一个网站，调用另一个网站的资源在没有授权时会报错)，所以如果在我们原来file:\\的基础上去发送ajax异步请求，会报错。因为你连个域名，ip都没有没有</p>
<h6 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a><strong>Ajax</strong></h6><p><strong>需求</strong>：用户点击按钮显示内容</p>
<p><strong>实现</strong>：之前都是无论点击不点击都会加载该内容。现在需要实现用户点击了之后再去服务器请求这个内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"trigger"</span>&gt;</span>~11点我实现Ajax异步请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"display: none;"</span> <span class="attr">id</span>=<span class="string">"card"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--card的内容就是请求的内容，写到card.html里面--&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> trigger = $(<span class="string">"#trigger"</span>);</span><br><span class="line"><span class="keyword">var</span> card = $(<span class="string">"#card"</span>);</span><br><span class="line"><span class="keyword">var</span> loaded = <span class="literal">false</span>;<span class="comment">//控制如果加载过资源，就不再加载了</span></span><br><span class="line">trigger.on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(card.is(<span class="string">':visible'</span>))&#123;</span><br><span class="line">        card.slideUp();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!loaded)&#123;</span><br><span class="line">            card.load(<span class="string">"card.html"</span>)<span class="comment">//加载这个文件</span></span><br><span class="line">        	loaded=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        card.slideDown();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// card.toggle();</span></span><br><span class="line">    <span class="comment">// 自动打开/关闭 但是缺点是连取消显示的点击都会去请求资源所以在这种复杂情况不用</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="10-Ajax-Ajax及其快捷方法-JQuery"><a href="#10-Ajax-Ajax及其快捷方法-JQuery" class="headerlink" title="10.Ajax-Ajax及其快捷方法(JQuery)"></a>10.Ajax-Ajax及其快捷方法(JQuery)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//最基础的方法</span></span><br><span class="line">$.ajax(<span class="string">'url'</span>,&#123;				<span class="comment">//第二个参数可以不填，默认method:get方式</span></span><br><span class="line">    url:<span class="string">'/signup'</span>,			<span class="comment">//如果url放在这里，外面的第一个参数url就可以去掉。</span></span><br><span class="line">    method:<span class="string">'post'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">        username:<span class="string">'whh'</span>,</span><br><span class="line">        password:<span class="string">'asdf'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    success:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//请求成功后做的事</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"请求成功"</span>);</span><br><span class="line">    &#125;，</span><br><span class="line">    error:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//请求失败做的事</span></span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">"请求失败"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)  </span><br><span class="line"></span><br><span class="line"><span class="comment">//其他,这些方法都是对ajax的封装</span></span><br><span class="line">$.post(<span class="string">'url'</span>,&#123;</span><br><span class="line">    username:<span class="string">'...'</span>,</span><br><span class="line">    password:<span class="string">'...'</span>,</span><br><span class="line">&#125;)</span><br><span class="line">$.<span class="keyword">get</span>('url');</span><br><span class="line">$.getJson('url');</span><br><span class="line">$.getScript('url');</span><br></pre></td></tr></table></figure>
<h6 id="服务器做出相应之后做什么-ajax-done-function-…"><a href="#服务器做出相应之后做什么-ajax-done-function-…" class="headerlink" title="服务器做出相应之后做什么      $.ajax().done(function(){….})"></a>服务器做出相应之后做什么      $.ajax().done(function(){….})</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// jquery的ajax方法</span></span><br><span class="line"><span class="keyword">var</span> form = $(<span class="string">"#search"</span>);</span><br><span class="line"><span class="keyword">var</span> input = $(<span class="string">"#username"</span>);</span><br><span class="line"><span class="keyword">var</span> result = $(<span class="string">"#result"</span>)</span><br><span class="line"><span class="keyword">var</span> username;</span><br><span class="line"><span class="comment">// 一般用户输入完成之后按下回车，form会自动点击里面的submit按钮进行提交</span></span><br><span class="line">form.on(<span class="string">'submit'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.preventDefault();<span class="comment">//阻止浏览器的默认操作：刷新</span></span><br><span class="line"></span><br><span class="line">    username = input.val();</span><br><span class="line">    $.ajax(<span class="string">'https://api.github.com/users/'</span> + username)</span><br><span class="line">        .done(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"data:"</span>, data);</span><br><span class="line">            <span class="keyword">var</span> html = <span class="string">'&lt;div&gt;用户名:'</span>+data.login+ <span class="string">'&lt;/div&gt;'</span>+</span><br><span class="line">            <span class="string">'&lt;div&gt;介绍:'</span>+(data.bio||<span class="string">'无'</span>)+ <span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line"></span><br><span class="line">            result.html(html);</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="11-实战：表单验证"><a href="#11-实战：表单验证" class="headerlink" title="11.实战：表单验证"></a>11.实战：表单验证</h2><h6 id="写的顺序"><a href="#写的顺序" class="headerlink" title="写的顺序"></a><strong>写的顺序</strong></h6><p><em>一开始只写js中最重要的和html中最重要的(基础结构html)。,随着js和html的配合，很有可能需要不断修改html结构，所以需要正确的方式是两头兼顾，而不是先写完全部静态页面再去搞逻辑实现</em></p>
<h6 id="三部搞定表单验证"><a href="#三部搞定表单验证" class="headerlink" title="三部搞定表单验证"></a><strong>三部搞定表单验证</strong></h6><ol>
<li>获取所有的input[data-rule]</li>
<li>将data-rule解析成正确的验证规则，格式rule={}</li>
<li>验证(核心和基础，所以一般写在前头)</li>
</ol>
<h6 id="思想：模块化"><a href="#思想：模块化" class="headerlink" title="思想：模块化"></a><strong>思想：模块化</strong></h6><h6 id="关键点"><a href="#关键点" class="headerlink" title="关键点"></a><strong>关键点</strong></h6><ol>
<li><p>不污染全局变量</p>
<p><em>$(function(){….}) 不过要注意这个相当于window.onload，所以依赖他的代码块也需要加上</em> </p>
</li>
<li><p>构造器：通过一个函数来生成一个对象（灵活）</p>
<p><em>希望没有input都拥有自己的对象，而不是大家公用的用一下就完事了</em></p>
</li>
<li><p>用构造器造私有对象的好处？</p>
<p><em>validator作为上游 ，每个实例化后的对象都有自己的val,rule下游比如input.js在用的时候无法随意更改</em></p>
</li>
<li><p>validator的主要结构？</p>
<p><em>validator={},这个对象里面有各种验证方法，对象里面this.xxx都是可以暴露出去的，否则是私有的</em></p>
</li>
</ol>
<h6 id="JQuery新方法"><a href="#JQuery新方法" class="headerlink" title="JQuery新方法"></a><strong>JQuery新方法</strong></h6><p><code>$.trim</code>                修剪首尾的多个空格</p>
<p><code>$.isNumeric</code>        验证参数内是否是数字</p>
<p><code>$ele.data(&quot;rule&quot;)</code>    获取元素的属性(data-rule)的值</p>
<p><code>$(&#39;[data-rule]&#39;)</code>    属性有data-rule的</p>
<p><code>$().each(func..)</code>    each遍历</p>
<p><code>$inputs.trigger(&#39;keyup&#39;)</code>    统一keyup</p>
<p><code>JSON.parse()</code>    对于str要加双引号。如果不加JSON.parse传进去的值 都是字符串</p>
<h6 id="var-me-this-硬是要把this指向obj"><a href="#var-me-this-硬是要把this指向obj" class="headerlink" title="var me = this 硬是要把this指向obj"></a><strong>var me = this 硬是要把this指向obj</strong></h6><p><em>表哥说出了这种方法还可以把方法封装到函数里面。（尝试不可行）</em></p>
<p><strong>最初的疑惑：在构造函数里面的this怎么突然就 指向window了(this.Load_validator)</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.Input = <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> $ele;</span><br><span class="line">        <span class="keyword">var</span> $error_ele;</span><br><span class="line">        <span class="keyword">var</span> me=<span class="keyword">this</span>;<span class="comment">//??不是十分懂。再找找类似情况的案例:执行上下文发生变化，this不再是原来的this,这时把this复制一份就可以了</span></span><br><span class="line">        <span class="keyword">var</span> rule=&#123;<span class="attr">required</span>:<span class="literal">true</span>,&#125;;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            find_ele();<span class="comment">//使用$找到该元素</span></span><br><span class="line">            get_error_ele();<span class="comment">//找到错误信息</span></span><br><span class="line">            parse_rule();<span class="comment">//解析规则成为键值对的格式-&gt; rule</span></span><br><span class="line">            </span><br><span class="line">            me.load_validator();<span class="comment">//注意，这里的this指向window，先看这个this所在函数是如何被调用的。（65行直接init执行，所以里面的this指向window)办法：var me=this,或者把方法封装成函数(?)，this.方法=函数</span></span><br><span class="line">            listen();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.get_val = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//特意写一个方法是为了可以暴露出去</span></span><br><span class="line">            <span class="keyword">return</span> $ele.val();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.load_validator = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> val = <span class="keyword">this</span>.get_val();<span class="comment">//有this的是暴露出去的！！！</span></span><br><span class="line">            <span class="keyword">this</span>.validator = <span class="keyword">new</span> Validator(val,rule);</span><br><span class="line">        &#125;</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>答案：this.Load_validator是在init函数里，具体看init怎么被调用的。</strong></p>
<p>this指向是在执行的时候才能确定的(即是否作为了对象的方法被调用)。</p>
<p><strong>因为<code>this.load_validator</code>所在函数init的执行方式是直接执行而不是作为对象的方法调用！！！！</strong></p>
<p>this指向当然是window，需要在最上面this指向外面对象的时候复制一份这个this-&gt;me.</p>
<p>(<a href="https://www.imooc.com/article/1758" target="_blank" rel="noopener">https://www.imooc.com/article/1758</a>  <em>这篇讲的很好</em>,讲到偏要指向obj的时候用var me = this)</p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/jquery-表严肃/">jquery  表严肃</a></li></ul></footer></article><section class="reward"><a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section><div class="comments" id="v-container"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({
  el: '#v-container',
  appId: 'OBALSfJMkMbTcVCkNihDqCEu-gzGzoHsz',
  appKey: 'mdaD2JiJU4lQHSA0nHNRvJOc',
  avatar: 'retro',
  lang: 'zh-cn',
  placeholder: 'balabala~',
  notify: false,
  verify: false,
  pageSize: 20,
  avatarForce: false,
  visitor: true,
  highlight: true
});</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2019 Eynus.</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>