<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Eynus."><link rel="alternative" href="/atom.xml" title="I am Eynus." type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>HTML5-新特性，新标签,audio,video - I am Eynus.</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">I am Eynus.</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2019-03-02T15:37:53.000Z">March 2, 2019</time><h1 class="post__title"><a href="/2019/03/02/h5-新特性，新标签-audio-video/">HTML5-新特性，新标签,audio,video</a></h1><div class="post__main echo"><h2 id="一、HTML5概述"><a href="#一、HTML5概述" class="headerlink" title="一、HTML5概述"></a>一、HTML5概述</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">HTML1.0-IETF草案 --&gt; HTML2.0-IETF规范 </span><br><span class="line"></span><br><span class="line">HTML2.0-IETF规范 --&gt; HTML3.2-W3C规范</span><br><span class="line"></span><br><span class="line">HTML3.2-W3C规范 --&gt; HTML4.01-W3C规范</span><br><span class="line">HTML4.01-W3C规范 --&gt; w3c创建xml</span><br><span class="line"></span><br><span class="line">w3c创建xml --&gt;|w3c| XHTML1.0反应良好  </span><br><span class="line"></span><br><span class="line">w3c创建xml --&gt;|w3c| XHTML2.0过于严格</span><br><span class="line">WHATWG建立-坚持html --&gt; WHATWG与W3C合作</span><br><span class="line">WHATWG与W3C合作 --&gt; HTML5问世</span><br></pre></td></tr></table></figure>
<h2 id="二、Doctype"><a href="#二、Doctype" class="headerlink" title="二、Doctype"></a>二、Doctype</h2><h4 id="1-标准模式、怪异模式"><a href="#1-标准模式、怪异模式" class="headerlink" title="1.标准模式、怪异模式"></a>1.标准模式、怪异模式</h4><p>验证：document.compatMode</p>
<ul>
<li>BackCompat ——怪异模式</li>
<li>CSS1Compat——标准模式</li>
</ul>
<p>区别：</p>
<table>
<thead>
<tr>
<th></th>
<th>CSS1Compat——标准模式</th>
<th>BackCompat ——怪异模式</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>盒模型</strong></td>
<td>标准盒模型</td>
<td>IE6混杂盒模型</td>
</tr>
<tr>
<td><strong>table字体</strong></td>
<td>继承body</td>
<td>不继承</td>
</tr>
<tr>
<td><strong>行元素设置宽高</strong></td>
<td>不能</td>
<td>能</td>
</tr>
<tr>
<td><strong>父级无高度时</strong></td>
<td>子级不能设置百分比高度</td>
<td>子级能设置百分比高度</td>
</tr>
<tr>
<td><strong>margin:0 auto</strong></td>
<td>设置左右居中</td>
<td>不能</td>
</tr>
<tr>
<td><strong>图片的padding</strong></td>
<td>有效</td>
<td>失效</td>
</tr>
</tbody>
</table>
<h2 id="三、HTML5的理念"><a href="#三、HTML5的理念" class="headerlink" title="三、HTML5的理念"></a>三、HTML5的理念</h2><h4 id="1-简化"><a href="#1-简化" class="headerlink" title="1.简化"></a>1.简化</h4><ol>
<li>DOCTYPE            &lt;!DOCTYPE html&gt;</li>
<li>link-css不用写type</li>
<li>script-不同写type</li>
</ol>
<h4 id="2-支持已有的写法"><a href="#2-支持已有的写法" class="headerlink" title="2.支持已有的写法"></a>2.支持已有的写法</h4><p>属性值不加引号，标签名大写等都不报错</p>
<h4 id="3-一些新的标签——解决实际问题"><a href="#3-一些新的标签——解决实际问题" class="headerlink" title="3.一些新的标签——解决实际问题"></a>3.一些新的标签——解决实际问题</h4><h4 id="4-优雅降级——input多种type"><a href="#4-优雅降级——input多种type" class="headerlink" title="4.优雅降级——input多种type"></a>4.优雅降级——input多种type</h4><p>部分浏览器就算不支持也不会报错，会降级成type=text</p>
<h4 id="5-用户优先"><a href="#5-用户优先" class="headerlink" title="5.用户优先"></a>5.用户优先</h4><p>理念不合 以用户优先为准：用户&gt;开发&gt;厂商&gt;标准制定者&gt;完美的规范</p>
<h2 id="四、新的h5结构化标签"><a href="#四、新的h5结构化标签" class="headerlink" title="四、新的h5结构化标签"></a>四、新的h5结构化标签</h2><p>!QQ图片20190123142331](C:\Users\Administrator\Desktop\web学习日记\QQ图片20190123142331.png)</p>
<ol>
<li><p>header——整个页面的头部，或某块区域的标题、页眉。</p>
</li>
<li><p>footer——文档或某一块的底部，页脚</p>
</li>
<li><p>main——主要内容区域</p>
</li>
<li><p>nav——导航链接部分</p>
</li>
<li><p>section——页面中一个内容区域</p>
<!--前五个用的比较多-->
</li>
<li><p>article——他代表一个独立的，完整的相关内容块。</p>
</li>
<li><p>aside——表示页面的一部分，内容和其他内容关联性不强，或没有关联，单独存在。</p>
</li>
<li><p>figure——标签规定独立的流内容（图像，图表，照片，代码等）</p>
</li>
</ol>
<h2 id="五、HTML5新的内容标签"><a href="#五、HTML5新的内容标签" class="headerlink" title="五、HTML5新的内容标签"></a>五、HTML5新的内容标签</h2><ol>
<li><p>vedio——视频         <em>每个浏览器厂商实现样式不一样</em></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"../img/1.mp4"</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">"500"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>audio——音频 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"../img/2.mp3"</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>source——资源</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"../img/2.mp3"</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"../img/2.ogg"</span> <span class="attr">controls</span>&gt;</span>/*如果没有MP3就加载这个资源*/</span><br></pre></td></tr></table></figure>
</li>
<li><p>figcaption——标签定义figure元素的标题（了解）</p>
</li>
<li><p>canvas——画布（大型游戏场景）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/*不然需要遍历dom元素*/</span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">"400"</span> <span class="attr">height</span>=<span class="string">"200"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>progress——进程（进度条）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-id">#ok</span>&#123;</span></span><br><span class="line"><span class="css">   <span class="selector-tag">display</span><span class="selector-pseudo">:none</span>; </span></span><br><span class="line"><span class="undefined">   &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">id</span>=<span class="string">"pro"</span> <span class="attr">max</span>=<span class="string">100</span>  <span class="attr">min</span> =<span class="string">0</span> <span class="attr">value</span>=<span class="string">50</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"ok"</span>&gt;</span>完成<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">if</span>(pro.value == <span class="number">100</span>)&#123;</span></span><br><span class="line"><span class="undefined">			clearInterval(timer);</span></span><br><span class="line"><span class="javascript">            ok.style.display = <span class="string">"block"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">		&#125;</span></span><br><span class="line"><span class="undefined">		pro.value+=10;</span></span><br><span class="line"><span class="undefined">	&#125;,1000);    </span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="六、HTML5表单元素改进"><a href="#六、HTML5表单元素改进" class="headerlink" title="六、HTML5表单元素改进"></a>六、HTML5表单元素改进</h2><h4 id="1-回顾："><a href="#1-回顾：" class="headerlink" title="1.回顾："></a>1.回顾：</h4><ol>
<li>input——radio单选，多选的value值需要自己添加</li>
<li>有文本框的输入的内容就是value值</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-type新值"><a href="#2-type新值" class="headerlink" title="2.type新值"></a>2.type新值</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/*电话 移动端弹出数字键盘*/</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"tel"</span>&gt;</span></span><br><span class="line">/*拖动条-音量*/</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"100"</span> <span class="attr">step</span>=<span class="string">"10"</span> <span class="attr">value</span>=<span class="string">"20"</span>&gt;</span></span><br><span class="line">/*数字,可以设置条件*/</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"100"</span>&gt;</span></span><br><span class="line">/*验证email类型，简单的验证，没有正则严格*/</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">value</span>=<span class="string">"moren@qq.com"</span>&gt;</span></span><br><span class="line">/*时间的表单元素用的不多*/</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"week"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"time"</span>&gt;</span></span><br><span class="line">/*本地日期和时间*/</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"datetime-local"</span>&gt;</span></span><br><span class="line">/*颜色选择器*/</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"color"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-Input新属性"><a href="#3-Input新属性" class="headerlink" title="3.Input新属性"></a>3.Input新属性</h4><ol>
<li><p>Multiple    在type=file中的新属性，可以同时上传多个文件</p>
</li>
<li><p>placeholder 提示</p>
</li>
<li><p>pattern  正则验证</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"test"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> reg = <span class="regexp">/^\d&#123;6&#125;$/g</span>;</span></span><br><span class="line"><span class="javascript">	test.onblur = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">/*失去焦点的时候*/</span></span></span><br><span class="line"><span class="javascript">	<span class="keyword">if</span>(reg.test(<span class="keyword">this</span>.value))&#123;</span></span><br><span class="line"><span class="javascript">		<span class="keyword">this</span>.style.borderColor= <span class="string">"green"</span>;</span></span><br><span class="line"><span class="undefined">	&#125;</span></span><br><span class="line"><span class="javascript">	<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">    	<span class="keyword">this</span>.style.borderColor=<span class="string">"red"</span>;</span></span><br><span class="line"><span class="undefined">	&#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"test"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">pattern</span>=<span class="string">"^\d&#123;6&#125;$"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="七、audio-video标签"><a href="#七、audio-video标签" class="headerlink" title="七、audio/video标签"></a>七、audio/video标签</h2><h4 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 方式一 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"...mp3"</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">"...mp3"</span> <span class="attr">controls</span> <span class="attr">poster</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 方式二 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 创建一个audio</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> myAudio = <span class="keyword">new</span> Audio(<span class="string">"../song.mp3"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 可见</span></span></span><br><span class="line"><span class="javascript">    myAudio.controls = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 插入</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.body.appendChild(myAudio);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>audio和video用的是用一个API,只是video多了一个海报：poster</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- controls是个bool值， 属性规定浏览器应该为视频提供播放控件。理解为：进度条，播放，暂停，音量，全屏。需要设置后才可见 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">"320"</span> <span class="attr">height</span>=<span class="string">"240"</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"movie.mp4"</span> <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"movie.ogg"</span> <span class="attr">type</span>=<span class="string">"video/ogg"</span>&gt;</span></span><br><span class="line">  您的浏览器不支持 video 标签。</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="2-浏览器支持情况"><a href="#2-浏览器支持情况" class="headerlink" title="2.浏览器支持情况"></a>2.浏览器支持情况</h4><ul>
<li>canPlayType()方法</li>
<li>audio.canPlayType()返回probably或者maybe，返回空——&gt;不支持</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 浏览器是否支持</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> theAudio = <span class="built_in">document</span>.getElementById(<span class="string">"theAudio"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>(theAudio.canPlayType)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(theAudio.canPlayType(<span class="string">'audio/mpeg'</span>)!= <span class="string">""</span>)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">"您的浏览器支持MP3编码；"</span>);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(theAudio.canPlayType(<span class="string">'audio/ogg; codecs="vorbis"'</span>)!= <span class="string">""</span>)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">"您的浏览器支持ogg编码；"</span>);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(theAudio.canPlayType(<span class="string">'audio/mp4; codecs="mp4a.40.5"'</span>)!= <span class="string">""</span>)		&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.write(<span class="string">"您的浏览器支持aac编码；"</span>);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.write(<span class="string">"您的浏览器不支持要检测的音频文件"</span>);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="3-几个基本属性和基本方法"><a href="#3-几个基本属性和基本方法" class="headerlink" title="3.几个基本属性和基本方法"></a>3.几个基本属性和基本方法</h4><h5 id="1）-基本属性"><a href="#1）-基本属性" class="headerlink" title="1）.基本属性"></a>1）.基本属性</h5><ol>
<li><p><strong>autoplay</strong> ——自动播放 video </p>
</li>
<li><p><strong>muted</strong>——静音</p>
</li>
<li><p><strong>loop</strong>——循环</p>
</li>
<li><p><strong>preload</strong>——是否预加载  ：</p>
<ul>
<li>none：不进行预加载</li>
<li>metadata：部分预加载（加载一些元数据）</li>
<li>auto：全部预加载</li>
</ul>
</li>
<li><p><strong>currentSrc</strong>：返回资源链接<em>（注意要资源加载完成才能获取到）</em></p>
</li>
<li><p><strong>duration</strong>：媒体持续时间<em>（总时长，注意要资源加载完成才能获取到）</em></p>
<p>可由在该事件下获取：audio.oncanPlay = function(){}</p>
</li>
<li><p><strong>currentTime</strong>：返回或设置资源当前时间</p>
</li>
<li><p><strong>volume</strong>：音量[0-1]，可读可写</p>
</li>
<li><p>playbackRate：读取或设置媒体资源播放的当前速率</p>
<ul>
<li>大于1：快放</li>
<li>小于1，大于0：慢放</li>
<li>无倒放</li>
</ul>
</li>
<li><p>查询媒体播放状态，返回true/false</p>
<ul>
<li><strong>paused</strong>：是否暂停了</li>
<li>ended：是否结束了</li>
<li>seeking：正在请求某一播放位置的媒体数据</li>
</ul>
</li>
<li><p>played/buffered/seekable：均返回一个TimeRanges对象</p>
<p>（TimeRanges的length属性为部分时间段，end(i)返回已播放时间段的结束时间，start(i)返回已播放时间段的开始时间）</p>
<ul>
<li>played：标明媒体资源在浏览器中已播放的时间范围</li>
<li>buffered：确定浏览器已经缓存媒体文件</li>
<li>seekable：表明可以对当前媒体资源进行请求</li>
</ul>
</li>
</ol>
<h5 id="2）-基本方法"><a href="#2）-基本方法" class="headerlink" title="2）.基本方法"></a>2）.基本方法</h5><ol>
<li>play()：媒体开始播放时触发</li>
<li>pause()：媒体暂停时触发</li>
<li>load()：重置媒体元素并重新载入媒体，可中止正在进行的任务或事件</li>
</ol>
<h4 id="4-事件"><a href="#4-事件" class="headerlink" title="4.事件"></a>4.事件</h4><ol>
<li><p>play</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ele.onplay = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>pause</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ele.onpause= <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ended：资源播放结束</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ele.onended = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>canplay：当前能够开始播放媒体数据，但不确定以当前的速率能否顺利的放完媒体。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ele.oncanplay = function()&#123;...&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><em>其他不常用的在w3c</em></p>
<h2 id="PS-关于js中直接使用id而不是getElement获取"><a href="#PS-关于js中直接使用id而不是getElement获取" class="headerlink" title="PS:关于js中直接使用id而不是getElement获取"></a>PS:关于js中直接使用id而不是getElement获取</h2><p>它最初是IE里面的，后来其他浏览器也支持。H5规定的，但不建议使用，正常开发还是使用以前的getEle..</p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/html5/">html5</a></li><li class="post__tag__item"><a class="post__tag__link" href="/tags/手册/">手册</a></li></ul></footer></article><section class="reward"><a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section><div class="comments" id="v-container"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({
  el: '#v-container',
  appId: 'OBALSfJMkMbTcVCkNihDqCEu-gzGzoHsz',
  appKey: 'mdaD2JiJU4lQHSA0nHNRvJOc',
  avatar: 'retro',
  lang: 'zh-cn',
  placeholder: 'balabala~',
  notify: false,
  verify: false,
  pageSize: 20,
  avatarForce: false,
  visitor: true,
  highlight: true
});</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2019 Eynus.</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>