<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Eynus."><link rel="alternative" href="/atom.xml" title="I am Eynus." type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>表严肃-webpack - I am Eynus.</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">I am Eynus.</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2019-03-05T04:44:04.000Z">March 5, 2019</time><h1 class="post__title"><a href="/2019/03/05/表严肃-webpack/">表严肃-webpack</a></h1><div class="post__main echo"><h1 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h1><p><strong>模块化</strong></p>
<p>目前js中a.js使用b.js的变量时只能将b.js的变量暴露在全局下，即window.x.</p>
<p>不利：不安全。</p>
<p>因此我们使用node即后端代码来使用b.js的变量，即:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//b.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> msg = <span class="string">"Yo."</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports =  &#123;<span class="attr">msg</span>:msg&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="keyword">var</span> msg = <span class="built_in">require</span>(<span class="string">"./b.js"</span>).msg;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"msg:"</span>,msg);</span><br></pre></td></tr></table></figure>
<p>在node环境中运行(注意此时，是不可以在浏览器运行的)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node a.js</span><br><span class="line"><span class="meta">&gt;</span>&gt; msg:Yo.</span><br></pre></td></tr></table></figure>
<p>webpack：将后端代码打包成浏览器看得懂的前端代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack a.js boundle.js #将入口文件a.js打包成boundle.js 然后在html引入boundle.js即可</span><br></pre></td></tr></table></figure>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><ul>
<li><h4 id="安装在全局"><a href="#安装在全局" class="headerlink" title="安装在全局"></a>安装在全局</h4><p>#不够灵活，万一不同项目需要不同版本的webpack呢</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack -g</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="安装在项目下"><a href="#安装在项目下" class="headerlink" title="安装在项目下"></a>安装在项目下</h4><p>此时需要先把文件夹“模块化”</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y  #进入项目目录，输入 --&gt;package.json</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli -D # -D == --save-dev 安装webpack和webpack-cli</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><ul>
<li><h4 id="webpack打包操作"><a href="#webpack打包操作" class="headerlink" title="webpack打包操作"></a>webpack打包操作</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">node_modules/.bin/webpack a.js boundle.js  #(mac,linux)当前在根目录下噢</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>注意，windows需要加反斜杠</span><br><span class="line">node_modules\.bin\webpack a.js -o boundle.js #webpack4命令要加个-o webpack a.js -o bundle.js</span><br></pre></td></tr></table></figure>
<p>出现过的错误：<a href="https://blog.csdn.net/qq_25927437/article/details/85782813" target="_blank" rel="noopener">https://blog.csdn.net/qq_25927437/article/details/85782813</a></p>
</li>
<li><h4 id="嫌麻烦可以把这个命令储存到json的scripts快捷方式里面"><a href="#嫌麻烦可以把这个命令储存到json的scripts快捷方式里面" class="headerlink" title="嫌麻烦可以把这个命令储存到json的scripts快捷方式里面"></a>嫌麻烦可以把这个命令储存到json的scripts快捷方式里面</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",</span><br><span class="line">    "pack": "node_modules\\.bin\\webpack a.js -o pack.js" //  &lt;== 还可以最后“--watch 自动检测更新 编译</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run pack 	#执行pack自定义命令===&gt; 生成pack.js</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="直接写到文件webpack-config-js里面"><a href="#直接写到文件webpack-config-js里面" class="headerlink" title="直接写到文件webpack.config.js里面"></a>直接写到文件webpack.config.js里面</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./a.js'</span>,	<span class="comment">//不加 "./"会报错</span></span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'pack.js'</span>,</span><br><span class="line">        path: __dirname  <span class="comment">//表示当前路径</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//既然有了配置，就可以把json pack里面的两个参数删掉了</span><br><span class="line">   "pack": "node_modules\\.bin\\webpack"</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run pack   #运行</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="entry和output"><a href="#entry和output" class="headerlink" title="entry和output"></a>entry和output</h1><h3 id="单个入口，单个出口"><a href="#单个入口，单个出口" class="headerlink" title="单个入口，单个出口"></a>单个入口，单个出口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    entry: &apos;./js/index.js&apos;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: &apos;bundle.js&apos;,</span><br><span class="line">        path: __dirname + &apos;/dist&apos; //表示当前路径</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="多入口，多出口"><a href="#多入口，多出口" class="headerlink" title="多入口，多出口"></a>多入口，多出口</h3><p>复杂的业务逻辑(node的写法)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="comment">//	-base.js</span></span><br><span class="line"><span class="comment">//	-home.js</span></span><br><span class="line"><span class="comment">//	-signup.js</span></span><br><span class="line"><span class="comment">//page</span></span><br><span class="line"><span class="comment">//	-index.html</span></span><br><span class="line"><span class="comment">//	-signup.html</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">    	home:<span class="string">'./js/home.js'</span>,</span><br><span class="line">        signup:<span class="string">'.js/signup.js'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'[name].bundle.js'</span>,</span><br><span class="line">        path: __dirname + <span class="string">'/dist'</span> <span class="comment">//dist:distributable 分发的</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//base.js</span></span><br><span class="line"><span class="keyword">var</span> open = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;<span class="attr">open</span>:open,&#125;;</span><br><span class="line"><span class="comment">//home.js</span></span><br><span class="line"><span class="keyword">var</span> base = <span class="built_in">require</span>(<span class="string">'./base'</span>);</span><br><span class="line"><span class="keyword">var</span> open = base.open;</span><br><span class="line"><span class="keyword">if</span>(open)&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.innerHTML = <span class="string">`&lt;a href="signup.html"&gt;注册&lt;/a&gt;`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//signup.js</span></span><br><span class="line"><span class="keyword">var</span> base = <span class="built_in">require</span>(<span class="string">'./base'</span>);</span><br><span class="line"><span class="keyword">var</span> open = base.open;</span><br><span class="line"><span class="keyword">if</span>(open)&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.innerHTML = <span class="string">`&lt;h1&gt;欢迎入坑&lt;/h1&gt;`</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="built_in">document</span>.body.innerHTML = <span class="string">`&lt;h1&gt;暂不开放&lt;/h1&gt;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>复杂的业务逻辑(es6的写法,更简洁省资源)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//base.js</span></span><br><span class="line"><span class="keyword">var</span> open = <span class="literal">true</span>; </span><br><span class="line"><span class="keyword">export</span> &#123;open&#125;;</span><br><span class="line"><span class="comment">//home.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;open&#125; <span class="keyword">from</span> <span class="string">'./base'</span>;<span class="comment">// &lt;==</span></span><br><span class="line"><span class="keyword">if</span>(open)&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.innerHTML = <span class="string">`&lt;a href="signup.html"&gt;注册&lt;/a&gt;`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//signup.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;open&#125; <span class="keyword">from</span> <span class="string">'./base'</span>;<span class="comment">// &lt;==</span></span><br><span class="line"><span class="keyword">if</span>(open)&#123;</span><br><span class="line">    <span class="built_in">document</span>.body.innerHTML = <span class="string">`&lt;h1&gt;欢迎入坑&lt;/h1&gt;`</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	<span class="built_in">document</span>.body.innerHTML = <span class="string">`&lt;h1&gt;暂不开放&lt;/h1&gt;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><p><strong>什么时候用？</strong></p>
<p>一个文件使用另外一个文件暴露出的东西时</p>
<h5 id="使用import-ES的东西-，webpack本身可以理解js"><a href="#使用import-ES的东西-，webpack本身可以理解js" class="headerlink" title="使用import(ES的东西)，webpack本身可以理解js"></a><strong>使用import(ES的东西)，webpack本身可以理解js</strong></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//base.js</span></span><br><span class="line"><span class="keyword">var</span> debug = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;debug&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js </span></span><br><span class="line"><span class="keyword">import</span> &#123;debug&#125;  <span class="keyword">from</span> <span class="string">'./base'</span></span><br><span class="line"><span class="built_in">console</span>.log(debug);</span><br></pre></td></tr></table></figure>
<p>但是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./css/style.css'</span>;<span class="comment">//webpack会报错，它不能理解css,你需要告诉它怎么加载---&gt;loader</span></span><br></pre></td></tr></table></figure>
<h5 id="使用loader"><a href="#使用loader" class="headerlink" title="使用loader"></a><strong>使用loader</strong></h5><p><strong>css怎么加载？（import会报错，用css-loader):</strong></p>
<blockquote>
<p>css-loader：    编译css文件变成webpack可以理解的</p>
<p>style-loader：把css插入到html的head </p>
</blockquote>
<p>安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i css-loader style-loader -D</span><br></pre></td></tr></table></figure>
<p>配置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">'./js/index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">        path: __dirname + <span class="string">'/dist'</span> <span class="comment">//表示当前路径</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            <span class="comment">//不同类型的文件需要使用哪些loader</span></span><br><span class="line">            test:<span class="regexp">/\.css$/</span>,</span><br><span class="line">            use:[<span class="string">'style-loader'</span>,<span class="string">'css-loader'</span>]<span class="comment">//注意：从右到左的顺序。</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run pack;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>创建webpack template</strong></p>
<p>1.npm init -y</p>
<p>2.npm i webpack webpack-cli -D</p>
<p>3.创建 webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">module</span>.exports = &#123;</span><br><span class="line">&gt;     entry: <span class="string">'./index.js'</span>,</span><br><span class="line">&gt;     output: &#123;</span><br><span class="line">&gt;         filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">&gt;         path: __dirname + <span class="string">'/dist'</span>,</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>4.完成。以后要打包：npx webpack</p>
</blockquote>
<h2 id="动态加载样式-不需要手动link入html"><a href="#动态加载样式-不需要手动link入html" class="headerlink" title="动态加载样式(不需要手动link入html)"></a>动态加载样式(不需要手动link入html)</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i css-loader style-loader -D;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js   </span></span><br><span class="line"><span class="built_in">module</span>:&#123;</span><br><span class="line">        rule:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:<span class="regexp">/\.css$/i</span>,</span><br><span class="line">                use:[<span class="string">'style-loader'</span>,<span class="string">'css-loader'</span>],</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index.css'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index2.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"yo"</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx webpack  #打包</span><br></pre></td></tr></table></figure>
<p>ps：添加option，是为了能看到某个样式是从哪个文件设置的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">'development'</span>,</span><br><span class="line">    entry: <span class="string">'./index.js'</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">        path: __dirname + <span class="string">'/dist'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'style-loader/url'</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            sourceMap: <span class="literal">true</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>style</code>变成了<code>link</code>,指向不存在的文件。</p>
<p>更新一步：css-loader ====&gt; file-loader</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i file-loader -D</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">       rules: [</span><br><span class="line">           &#123;</span><br><span class="line">               test: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">               use: [</span><br><span class="line">                   &#123;</span><br><span class="line">                       loader: <span class="string">'style-loader/url'</span>,<span class="comment">//url是参数</span></span><br><span class="line">                   &#125;,</span><br><span class="line">                   &#123;</span><br><span class="line">                       loader:<span class="string">'file-loader'</span>,</span><br><span class="line">                       options:&#123;</span><br><span class="line">                           publicPath:<span class="string">'./dist'</span>,	<span class="comment">//指定link里面的href正确:./dist</span></span><br><span class="line">                           name:<span class="string">'[name].bundle.css'</span>   <span class="comment">//命名</span></span><br><span class="line">                       &#125;</span><br><span class="line">                   &#125;</span><br><span class="line">               ],</span><br><span class="line">           &#125;,</span><br><span class="line">       ],</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></figure>
<p>此时，生成的css文件就真是存在啦！</p>
<p>–end–</p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/表严肃/">表严肃</a></li><li class="post__tag__item"><a class="post__tag__link" href="/tags/webpack/">webpack</a></li></ul></footer></article><section class="reward"><a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section><div class="comments" id="v-container"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({
  el: '#v-container',
  appId: 'OBALSfJMkMbTcVCkNihDqCEu-gzGzoHsz',
  appKey: 'mdaD2JiJU4lQHSA0nHNRvJOc',
  avatar: 'retro',
  lang: 'zh-cn',
  placeholder: 'balabala~',
  notify: false,
  verify: false,
  pageSize: 20,
  avatarForce: false,
  visitor: true,
  highlight: true
});</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2019 Eynus.</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>