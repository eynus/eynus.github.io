<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Eynus."><link rel="alternative" href="/atom.xml" title="I am Eynus." type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>ES6-变量的解构赋值 - I am Eynus.</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">I am Eynus.</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2019-05-14T08:07:53.000Z">May 14, 2019</time><h1 class="post__title"><a href="/2019/05/14/ES6-变量的解构赋值/">ES6-变量的解构赋值</a></h1><div class="post__main echo"><p>ECMAScript6中的变量的解构赋值</p>
<p>解构赋值出现的原因:以前从数据或者对象中提取信息是一个麻烦的事情。</p>
<h3 id="一、数组的解构赋值"><a href="#一、数组的解构赋值" class="headerlink" title="一、数组的解构赋值"></a>一、数组的解构赋值</h3><h4 id="1-用法-顺序很重要"><a href="#1-用法-顺序很重要" class="headerlink" title="1.用法:顺序很重要"></a>1.用法:顺序很重要</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解构赋值：左边是变量，右边是目标数据，相同的位置返回给相应位置的变量</span></span><br><span class="line"><span class="comment">//[variable1,variable2,...,variableN] = array</span></span><br><span class="line"><span class="comment">//  数组有位置顺序，变量取值由位置决定。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//以前的写法</span></span><br><span class="line"><span class="keyword">let</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> a=arr[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> b=arr[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">let</span> c=arr[<span class="number">2</span>];</span><br><span class="line"><span class="comment">//解构赋值写法</span></span><br><span class="line"><span class="keyword">let</span> [a,b,c] = arr;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.必须要初始化</span></span><br><span class="line"><span class="comment">//2.可在解构中忽略一些项(用逗号隔开占位) </span></span><br><span class="line"><span class="comment">//3.互换两个变量的值：不需要第三方变量：[a,b] = [b,a]</span></span><br><span class="line"><span class="comment">//4.如果解构不成功，变量的值就等于undefined</span></span><br></pre></td></tr></table></figure>
<h4 id="2-默认值"><a href="#2-默认值" class="headerlink" title="2.默认值"></a>2.默认值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在赋值过程中当x===undefined时，等于其自身的默认值(假如设置的话)</span></span><br><span class="line"><span class="keyword">let</span> [x,y] = [];<span class="comment">//x:undefined</span></span><br><span class="line"><span class="keyword">let</span> [x=<span class="number">10</span>,y] = [];<span class="comment">//x:undefined且有默认值，因此x:10</span></span><br><span class="line"><span class="keyword">let</span> [x=<span class="number">10</span>,y] = [<span class="literal">null</span>];<span class="comment">//x:null (null！== undefined)所以不取默认值，取得是null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.默认值可以引用其他已经声明过的变量</span></span><br><span class="line"><span class="comment">//2.如果默认值是一个表达式，那么这个表达式是惰性求值，只有在用到时才会执行</span></span><br></pre></td></tr></table></figure>
<h4 id="3-一些举例"><a href="#3-一些举例" class="headerlink" title="3.一些举例"></a>3.一些举例</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//其他：</span></span><br><span class="line"><span class="keyword">let</span> [a,,c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];<span class="comment">//a：1,c:3,b:没定义</span></span><br><span class="line"><span class="keyword">let</span> [,a,] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];<span class="comment">//a:2</span></span><br><span class="line"><span class="keyword">let</span> [a,...c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];<span class="comment">//a:1,c:[2,3]</span></span><br><span class="line"><span class="keyword">let</span> [a,b,c=<span class="string">"default"</span>,d=<span class="string">"default"</span>] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];<span class="comment">//a:1,b:2,c:3,d:'default'</span></span><br><span class="line"><span class="keyword">let</span> [a,b,c] = [<span class="number">1</span>,<span class="number">2</span>];<span class="comment">//a：1,b:2,c:undefined</span></span><br><span class="line"><span class="keyword">let</span> [a,b,c] = [<span class="number">1</span>,<span class="number">2</span>,<span class="literal">null</span>];<span class="comment">//a：1,b:2,c:null</span></span><br></pre></td></tr></table></figure>
<h3 id="二、对象的解构赋值"><a href="#二、对象的解构赋值" class="headerlink" title="二、对象的解构赋值"></a>二、对象的解构赋值</h3><h4 id="1-用法：名称很重要"><a href="#1-用法：名称很重要" class="headerlink" title="1.用法：名称很重要"></a>1.用法：名称很重要</h4><p>对象的解构赋值的内部机制：先找到同名属性，再赋值给对应的变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基本语法：字面量对象 = 字面量对象</span></span><br><span class="line"><span class="comment">//  对象没有顺序，变量必须与属性同名才能正确取值。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.匹配</span></span><br><span class="line"><span class="keyword">let</span> &#123;foo,bar&#125; = &#123;<span class="attr">foo</span>:<span class="string">'aaa'</span>,<span class="attr">bar</span>:<span class="string">'bbb'</span>&#125;;<span class="comment">//其实是下面一行的简写</span></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">foo</span>:foo,<span class="attr">bar</span>:bar&#125; = &#123;<span class="attr">foo</span>:<span class="string">'aaa'</span>,<span class="attr">bar</span>:<span class="string">'bbb'</span>&#125;;<span class="comment">//foo:foo,先找到键名为foo后命名为foo变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.改变变量名</span></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">foo</span>:baz&#125; = &#123;<span class="attr">foo</span>:<span class="string">'aaa'</span>,<span class="attr">bar</span>:<span class="string">'bbb'</span>&#125;;<span class="comment">//:前面是为了匹配到对象中的foo,:后面是为了重命名该变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.需要初始化</span></span><br><span class="line"><span class="comment">//4.在赋值的时候使用解构赋值：需要注意代码块问题会报错</span></span><br><span class="line"> <span class="keyword">let</span> x;</span><br><span class="line"> &#123;x&#125; = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;; <span class="comment">//错误的写法:&#123;x&#125;被js引擎误认为是一个代码块,不将大括号写在行首就Ok:加个括号</span></span><br><span class="line">(&#123;x&#125; = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;);<span class="comment">//正确的写法。</span></span><br><span class="line"><span class="comment">//5.解构赋值表达式的值是表达式右侧的值</span></span><br><span class="line">(&#123;x&#125; = &#123;<span class="attr">x</span>:<span class="number">1</span>&#125;);<span class="comment">//这个表达式的返回值就等于等号右边的这个对象：应用：像函数中传入对象参数时自动解构</span></span><br><span class="line"><span class="comment">//6.对象的解构赋值可以很方便的将现有对象的方式赋值到某个变量</span></span><br></pre></td></tr></table></figure>
<h4 id="2-默认值-1"><a href="#2-默认值-1" class="headerlink" title="2.默认值"></a>2.默认值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在赋值过程中当x===undefined时，等于其自身的默认值(假如设置的话)</span></span><br><span class="line"><span class="keyword">let</span> &#123;name,age&#125; = &#123;&#125;;<span class="comment">//name:undefined,age:undefined</span></span><br><span class="line"><span class="keyword">let</span> &#123;name=<span class="string">'huohuo'</span>,age=<span class="number">10</span>&#125; = &#123;&#125;;<span class="comment">//name:'huohuo',age:10</span></span><br><span class="line"><span class="keyword">let</span> &#123;name=<span class="string">'huohuo'</span>,age=<span class="number">10</span>&#125; = &#123;<span class="attr">name</span>:<span class="literal">null</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;<span class="comment">//name:null,age:20</span></span><br></pre></td></tr></table></figure>
<h3 id="三、对象和数组解构赋值的混合使用"><a href="#三、对象和数组解构赋值的混合使用" class="headerlink" title="三、对象和数组解构赋值的混合使用"></a>三、对象和数组解构赋值的混合使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//左右模式需要匹配，否则会报错</span></span><br><span class="line"><span class="keyword">let</span> [a,b,[c,d]] = [<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>]];<span class="comment">//数组嵌套</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">age</span>:age&#125; = &#123;<span class="attr">age</span>:<span class="number">10</span>&#125;;<span class="comment">//对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">age</span>:[a,b,c]&#125; = &#123;<span class="attr">age</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;;<span class="comment">//数组和对象混合1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="comment">//数组和对象混合2</span></span><br><span class="line">    arr:[</span><br><span class="line">        <span class="string">'Yo.'</span>,&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">arr</span>:[greet,&#123;a&#125;]&#125; = obj;<span class="comment">//greet:'Yo.' a:1</span></span><br></pre></td></tr></table></figure>
<h3 id="四、对象解构赋值的用途"><a href="#四、对象解构赋值的用途" class="headerlink" title="四、对象解构赋值的用途"></a>四、对象解构赋值的用途</h3><ol>
<li><p>解构方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;floor,pow&#125; = <span class="built_in">Math</span>;</span><br><span class="line"><span class="keyword">let</span> a=<span class="number">1.1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(floor(a),pow(<span class="number">2</span>,<span class="number">3</span>));<span class="comment">//提取出math中的方法直接使用</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>提取JSON数据：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> res=&#123;</span><br><span class="line">    status:<span class="number">200.</span></span><br><span class="line">    id:<span class="number">12</span>,</span><br><span class="line">    data:[&#123;<span class="attr">name</span>:<span class="string">'Bob'</span>&#125;,&#123;<span class="attr">name</span>:<span class="string">'Shun Fa'</span>&#125;]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;status ,id,data&#125; = res;</span><br><span class="line"><span class="comment">//直接可以使用status,id,data变量</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="五、解构赋值的其他用法"><a href="#五、解构赋值的其他用法" class="headerlink" title="五、解构赋值的其他用法"></a>五、解构赋值的其他用法</h3><h4 id="1-字符串的解构赋值"><a href="#1-字符串的解构赋值" class="headerlink" title="1.字符串的解构赋值"></a>1.字符串的解构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解构length</span></span><br><span class="line"><span class="keyword">let</span> &#123;length&#125; = <span class="string">'Yo.'</span></span><br><span class="line"><span class="built_in">console</span>.log(length);<span class="comment">//3</span></span><br><span class="line"><span class="comment">//解构字符串</span></span><br><span class="line"><span class="keyword">let</span> [a,b,c,d,e]=<span class="string">'hello'</span>;<span class="comment">//a:'h',b:'e',c:'l',d:'l',e:'o'</span></span><br></pre></td></tr></table></figure>
<h4 id="2-函数参数的解构赋值"><a href="#2-函数参数的解构赋值" class="headerlink" title="2.函数参数的解构赋值"></a>2.函数参数的解构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123;a,b&#125;</span>)</span>&#123;<span class="comment">//好处：传参进入函数之后不需要手动提取内部数据 let x = obj.a</span></span><br><span class="line">	<span class="built_in">console</span>.log(a,b);</span><br><span class="line">&#125;</span><br><span class="line">f(obj)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//还可以使用默认值</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">&#123;a=<span class="number">10</span>,b&#125;</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a,b);</span><br><span class="line">&#125;</span><br><span class="line">test(obj)</span><br></pre></td></tr></table></figure>
</div></header></article><section class="reward"><a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section><div class="comments" id="v-container"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script>new Valine({
  el: '#v-container',
  appId: 'OBALSfJMkMbTcVCkNihDqCEu-gzGzoHsz',
  appKey: 'mdaD2JiJU4lQHSA0nHNRvJOc',
  avatar: 'retro',
  lang: 'zh-cn',
  placeholder: 'balabala~',
  notify: false,
  verify: false,
  pageSize: 20,
  avatarForce: false,
  visitor: true,
  highlight: true
});</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2019 Eynus.</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>